# Development Dockerfile for Angular with hot reload
FROM node:20-alpine
WORKDIR /app

# Copy package files and install dependencies
COPY package*.json ./
RUN npm ci

# Copy server.ts (needed for SSR config even in dev mode)
COPY server.ts ./

# Copy tsconfig files (needed for compilation)
COPY tsconfig*.json ./

# Copy angular.json (needed for build config)
COPY angular.json ./

# Expose port
EXPOSE 4000

# Start dev server with hot reload
CMD ["npm", "run", "start", "--", "--host", "0.0.0.0", "--port", "4000", "--disable-host-check"]
